{% if site.gitalk %}
{% if page.comments %}
<div class="comments">
  <div id="gitalk-container"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script>
    const gitalk = new Gitalk({
      clientID: "{{ site.gitalk.clientID }}",
      clientSecret: "{{ site.gitalk.clientSecret }}",
      repo: "{{ site.gitalk.repo }}",
      owner: "{{ site.gitalk.owner }}",
      admin: ["{{ site.gitalk.owner }}"],
      id: window.location.pathname,      // Ensure uniqueness and length less than 50
      distractionFreeMode: false,  // Facebook-like distraction free mode
      title: "{{ page.title }}",
      language: "en-US",
      proxy: "https://strong-caramel-969805.netlify.app/github_access_token",
    })
    gitalk.render('gitalk-container')
  </script>
</div>
{% endif %}
{% endif %}